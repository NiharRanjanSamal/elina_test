[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< com.elina:authorization-module >-------------------
[INFO] Building Authorization Module 1.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ authorization-module ---
[INFO] Copying 1 resource from src\main\resources to target\classes
[INFO] Copying 31 resources from src\main\resources to target\classes
[INFO] 
[INFO] --- compiler:3.11.0:compile (default-compile) @ authorization-module ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ authorization-module ---
[INFO] Copying 1 resource from src\test\resources to target\test-classes
[INFO] 
[INFO] --- compiler:3.11.0:testCompile (default-testCompile) @ authorization-module ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- surefire:3.1.2:test (default-test) @ authorization-module ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.elina.authorization.controller.AuthControllerIntegrationTest
12:14:16.772 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.elina.authorization.controller.AuthControllerIntegrationTest]: AuthControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
12:14:16.982 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.elina.AuthorizationModuleApplication for test class com.elina.authorization.controller.AuthControllerIntegrationTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-11-21T12:14:17.728+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.c.AuthControllerIntegrationTest    : Starting AuthControllerIntegrationTest using Java 21.0.8 with PID 12412 (started by nihar in C:\Users\nihar\OneDrive\Desktop\elina_test\elina\backend)
2025-11-21T12:14:17.728+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.c.AuthControllerIntegrationTest    : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-21T12:14:17.728+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.c.AuthControllerIntegrationTest    : The following 1 profile is active: "test"
2025-11-21T12:14:18.947+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-21T12:14:18.947+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-21T12:14:19.238+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 274 ms. Found 19 JPA repository interfaces.
2025-11-21T12:14:19.268+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-21T12:14:19.269+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-21T12:14:19.285+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.BusinessRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.290+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.MasterCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.PageAuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.RolePermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.TenantRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.UserAuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.UserPermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.UserRoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.ConfirmationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.PlanLineRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.PlanVersionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.ProjectRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.TaskRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.TaskUpdateRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.292+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.WbsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:19.300+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-11-21T12:14:20.170+05:30  INFO 12412 --- [authorization-module] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-21T12:14:20.259+05:30  INFO 12412 --- [authorization-module] [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.3.1.Final
2025-11-21T12:14:20.324+05:30  INFO 12412 --- [authorization-module] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-21T12:14:20.657+05:30  INFO 12412 --- [authorization-module] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-21T12:14:20.700+05:30  INFO 12412 --- [authorization-module] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-11-21T12:14:21.083+05:30  INFO 12412 --- [authorization-module] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-11-21T12:14:21.083+05:30  INFO 12412 --- [authorization-module] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-11-21T12:14:21.119+05:30  WARN 12412 --- [authorization-module] [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-21T12:14:22.877+05:30  INFO 12412 --- [authorization-module] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-21T12:14:22.902+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-11-21T12:14:22.913+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists business_rules cascade 
2025-11-21T12:14:22.913+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists confirmations cascade 
2025-11-21T12:14:22.913+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists master_codes cascade 
2025-11-21T12:14:22.913+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists page_authorizations cascade 
2025-11-21T12:14:22.913+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists permissions cascade 
2025-11-21T12:14:22.913+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists plan_lines cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists plan_versions cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists projects cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists role_permissions cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists task_updates cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists tasks cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists tenants cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_authorizations cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_permissions cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists wbs cascade 
2025-11-21T12:14:22.915+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table audit_logs (
        audit_id bigint generated by default as identity,
        changed_by bigint not null,
        changed_on timestamp(6) not null,
        record_id bigint not null,
        tenant_id bigint not null,
        action_type varchar(20) not null,
        table_name varchar(100) not null,
        new_data NVARCHAR(MAX),
        old_data NVARCHAR(MAX),
        primary key (audit_id)
    )
2025-11-21T12:14:22.934+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table business_rules (
        activate_flag boolean not null,
        applicability varchar(1) not null,
        rule_number integer not null,
        created_by bigint,
        created_on timestamp(6) not null,
        rule_id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        control_point varchar(100) not null,
        rule_value varchar(500),
        description varchar(1000),
        primary key (rule_id),
        constraint idx_business_rules_tenant_rule_number unique (tenant_id, rule_number)
    )
2025-11-21T12:14:22.934+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table confirmations (
        confirmation_date date not null,
        confirmation_id bigint generated by default as identity,
        confirmed_by bigint not null,
        confirmed_on timestamp(6) not null,
        created_by bigint,
        created_on timestamp(6) not null,
        entity_id bigint not null,
        tenant_id bigint not null,
        entity_type varchar(50) not null,
        remarks varchar(1000),
        primary key (confirmation_id)
    )
2025-11-21T12:14:22.934+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table master_codes (
        activate_flag boolean not null,
        code_id bigint generated by default as identity,
        created_by bigint,
        created_on timestamp(6) not null,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        code_type varchar(100) not null,
        short_description varchar(500),
        code_value varchar(255) not null,
        long_description NVARCHAR(MAX),
        primary key (code_id)
    )
2025-11-21T12:14:22.934+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table page_authorizations (
        is_allowed boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role_id bigint,
        updated_at timestamp(6),
        user_id bigint,
        page_name varchar(200),
        page_path varchar(255) not null,
        primary key (id)
    )
2025-11-21T12:14:22.940+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table permissions (
        is_active boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_at timestamp(6),
        action varchar(50),
        code varchar(100) not null,
        resource_type varchar(100),
        name varchar(200) not null,
        description varchar(500),
        primary key (id),
        constraint idx_permission_tenant_code unique (tenant_id, code)
    )
2025-11-21T12:14:22.941+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table plan_lines (
        activate_flag boolean not null,
        line_number integer not null,
        planned_qty numeric(18,2) not null,
        work_date date not null,
        created_by bigint,
        created_on timestamp(6) not null,
        plan_line_id bigint generated by default as identity,
        plan_version_id bigint not null,
        task_id bigint not null,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        description varchar(500),
        primary key (plan_line_id),
        constraint uk_plan_lines_version_date unique (plan_version_id, work_date)
    )
2025-11-21T12:14:22.941+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table plan_versions (
        activate_flag boolean not null,
        is_active boolean not null,
        version_date date not null,
        version_no integer not null,
        created_by bigint,
        created_on timestamp(6) not null,
        plan_version_id bigint generated by default as identity,
        task_id bigint not null,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        description varchar(500),
        primary key (plan_version_id),
        constraint uk_plan_versions_task_version unique (task_id, version_no)
    )
2025-11-21T12:14:22.947+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table projects (
        activate_flag boolean not null,
        end_date date,
        start_date date,
        created_by bigint,
        created_on timestamp(6) not null,
        project_id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        project_code varchar(50) not null,
        status varchar(50),
        project_name varchar(200) not null,
        description NVARCHAR(MAX),
        primary key (project_id),
        constraint idx_projects_tenant_code unique (tenant_id, project_code)
    )
2025-11-21T12:14:22.948+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table role_permissions (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id),
        constraint idx_role_permission_unique unique (role_id, permission_id)
    )
2025-11-21T12:14:22.948+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table roles (
        is_active boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_at timestamp(6),
        code varchar(50) not null,
        name varchar(100) not null,
        description varchar(500),
        primary key (id),
        constraint idx_role_tenant_code unique (tenant_id, code)
    )
2025-11-21T12:14:22.952+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table task_updates (
        activate_flag boolean not null,
        actual_qty numeric(18,2) not null,
        daily_update_qty numeric(18,2),
        planned_qty numeric(18,2),
        update_date date not null,
        created_by bigint,
        created_on timestamp(6) not null,
        task_id bigint not null,
        tenant_id bigint not null,
        update_id bigint generated by default as identity,
        updated_by bigint,
        updated_on timestamp(6),
        remarks varchar(1000),
        primary key (update_id),
        constraint idx_task_updates_date unique (tenant_id, task_id, update_date)
    )
2025-11-21T12:14:22.954+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table tasks (
        activate_flag boolean not null,
        actual_qty numeric(18,2),
        end_date date,
        is_confirmed boolean,
        is_locked boolean,
        lock_date date,
        planned_qty numeric(18,2),
        start_date date,
        confirmed_by bigint,
        confirmed_on timestamp(6),
        created_by bigint,
        created_on timestamp(6) not null,
        project_id bigint not null,
        task_id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        wbs_id bigint not null,
        unit varchar(20),
        status varchar(50),
        task_code varchar(50) not null,
        task_name varchar(200) not null,
        description NVARCHAR(MAX),
        primary key (task_id),
        constraint idx_tasks_tenant_code unique (tenant_id, task_code)
    )
2025-11-21T12:14:22.957+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table tenants (
        is_active boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        client_code varchar(50),
        tenant_code varchar(50) not null unique,
        name varchar(200) not null,
        primary key (id)
    )
2025-11-21T12:14:22.960+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table user_authorizations (
        is_allowed boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint not null,
        permission_type varchar(50),
        resource_type varchar(100) not null,
        conditions varchar(1000),
        resource_id varchar(255),
        primary key (id)
    )
2025-11-21T12:14:22.960+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table user_permissions (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        permission_id bigint not null,
        user_id bigint not null,
        primary key (id),
        constraint idx_user_permission_unique unique (user_id, permission_id)
    )
2025-11-21T12:14:22.960+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table user_roles (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id),
        constraint idx_user_role_unique unique (user_id, role_id)
    )
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table users (
        is_active boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        last_login_at timestamp(6),
        tenant_id bigint not null,
        updated_at timestamp(6),
        first_name varchar(100),
        last_name varchar(100),
        email varchar(255) not null,
        password_hash varchar(255) not null,
        primary key (id),
        constraint idx_user_tenant_email unique (tenant_id, email)
    )
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table wbs (
        activate_flag boolean not null,
        actual_qty numeric(18,2),
        end_date date,
        is_confirmed boolean,
        is_locked boolean,
        level integer not null,
        lock_date date,
        planned_qty numeric(18,2),
        start_date date,
        confirmed_by bigint,
        confirmed_on timestamp(6),
        created_by bigint,
        created_on timestamp(6) not null,
        parent_wbs_id bigint,
        project_id bigint not null,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        wbs_id bigint generated by default as identity,
        cost_center varchar(50),
        status varchar(50),
        wbs_code varchar(50) not null,
        work_center varchar(50),
        wbs_name varchar(200) not null,
        description NVARCHAR(MAX),
        primary key (wbs_id),
        constraint idx_wbs_tenant_code unique (tenant_id, wbs_code)
    )
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_audit_logs_tenant_id 
       on audit_logs (tenant_id)
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_audit_logs_table_record 
       on audit_logs (tenant_id, table_name, record_id)
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_audit_logs_changed_on 
       on audit_logs (tenant_id, changed_on)
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_audit_logs_changed_by 
       on audit_logs (tenant_id, changed_by)
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_business_rules_tenant_control_point 
       on business_rules (tenant_id, control_point)
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_business_rules_tenant_active 
       on business_rules (tenant_id, activate_flag)
2025-11-21T12:14:22.965+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_confirmations_tenant_id 
       on confirmations (tenant_id)
2025-11-21T12:14:22.974+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_confirmations_entity 
       on confirmations (tenant_id, entity_type, entity_id)
2025-11-21T12:14:22.978+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_confirmations_date 
       on confirmations (tenant_id, confirmation_date)
2025-11-21T12:14:22.978+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_master_codes_tenant_type 
       on master_codes (tenant_id, code_type)
2025-11-21T12:14:22.978+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_master_codes_tenant_type_active 
       on master_codes (tenant_id, code_type, activate_flag)
2025-11-21T12:14:22.978+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_master_codes_code_type 
       on master_codes (code_type)
2025-11-21T12:14:22.978+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_page_auth_role 
       on page_authorizations (role_id, page_path)
2025-11-21T12:14:22.978+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_page_auth_user 
       on page_authorizations (user_id, page_path)
2025-11-21T12:14:22.978+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_lines_tenant_id 
       on plan_lines (tenant_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_lines_version_work_date 
       on plan_lines (plan_version_id, work_date)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_lines_task_id 
       on plan_lines (tenant_id, task_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_versions_tenant_id 
       on plan_versions (tenant_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_versions_tenant_task_version 
       on plan_versions (tenant_id, task_id, version_no)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_versions_tenant_active 
       on plan_versions (tenant_id, activate_flag)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_projects_tenant_id 
       on projects (tenant_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_projects_tenant_active 
       on projects (tenant_id, activate_flag)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_task_updates_tenant_id 
       on task_updates (tenant_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_task_updates_task_id 
       on task_updates (tenant_id, task_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_task_updates_tenant_active 
       on task_updates (tenant_id, activate_flag)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_tasks_tenant_id 
       on tasks (tenant_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_tasks_wbs_id 
       on tasks (tenant_id, wbs_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_tasks_tenant_active 
       on tasks (tenant_id, activate_flag)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_user_auth_resource 
       on user_authorizations (user_id, resource_type, resource_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_wbs_tenant_id 
       on wbs (tenant_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_wbs_project_id 
       on wbs (tenant_id, project_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_wbs_parent_id 
       on wbs (tenant_id, parent_wbs_id)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_wbs_tenant_active 
       on wbs (tenant_id, activate_flag)
2025-11-21T12:14:22.982+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists audit_logs 
       add constraint FKqquet9030xtkk7jyvqwuy1byu 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.002+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists business_rules 
       add constraint FKp2eprpx1ddnpbo7xnmcx81qh0 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.003+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists confirmations 
       add constraint FKc5is8es0dyyrrmt2gjn2hdaho 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.004+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists master_codes 
       add constraint FK500mds9dklqnj0muk6fxllmkb 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.005+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists page_authorizations 
       add constraint FKabpji2gk3meflxca4byx2gxe4 
       foreign key (role_id) 
       references roles
2025-11-21T12:14:23.005+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists page_authorizations 
       add constraint FKky0rncvow6co2bjvrxuyrqdsm 
       foreign key (user_id) 
       references users
2025-11-21T12:14:23.007+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists permissions 
       add constraint FK6clx7crol7q58xoytg2mkngm4 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.009+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_lines 
       add constraint FK1srfhphdyfbykgsnvhrptqfud 
       foreign key (plan_version_id) 
       references plan_versions
2025-11-21T12:14:23.009+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_lines 
       add constraint FKah9msmycx8xwew33n5nd90t1e 
       foreign key (task_id) 
       references tasks
2025-11-21T12:14:23.009+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_lines 
       add constraint FK3cifsdmpg8x4l622qghfoor0h 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.009+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_versions 
       add constraint FK7ve66bapmky6dp25rdyl58uhl 
       foreign key (task_id) 
       references tasks
2025-11-21T12:14:23.015+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_versions 
       add constraint FKg3kpxro7jrm9oq55uxm98rbo1 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.015+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists projects 
       add constraint FK7qub36q2kp85c3y1o6cobdgu1 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.017+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-11-21T12:14:23.017+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-11-21T12:14:23.017+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists roles 
       add constraint FKmvypqr2nolkxxru0qnbw8rh5m 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.017+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists task_updates 
       add constraint FKntllp5kf24w3bm2ldtfsh64n9 
       foreign key (task_id) 
       references tasks
2025-11-21T12:14:23.017+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists task_updates 
       add constraint FKmu19cqmop4akknpisj6oxeaxw 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.017+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists tasks 
       add constraint FKsfhn82y57i3k9uxww1s007acc 
       foreign key (project_id) 
       references projects
2025-11-21T12:14:23.017+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists tasks 
       add constraint FKbt9vk2o2kb5cv83mv6iblq2s9 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.023+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists tasks 
       add constraint FKp88t4ky8or4mo5nob5281ffdt 
       foreign key (wbs_id) 
       references wbs
2025-11-21T12:14:23.025+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_authorizations 
       add constraint FKgek2c3qxjc3g29pk0gaqkythi 
       foreign key (user_id) 
       references users
2025-11-21T12:14:23.025+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_permissions 
       add constraint FKq4qlrabt4s0etm9tfkoqfuib1 
       foreign key (permission_id) 
       references permissions
2025-11-21T12:14:23.025+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_permissions 
       add constraint FKkowxl8b2bngrxd1gafh13005u 
       foreign key (user_id) 
       references users
2025-11-21T12:14:23.031+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-11-21T12:14:23.032+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-11-21T12:14:23.032+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists users 
       add constraint FK21hn1a5ja1tve7ae02fnn4cld 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.032+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists wbs 
       add constraint FKoll0drr18kkmke53urr9tmw24 
       foreign key (parent_wbs_id) 
       references wbs
2025-11-21T12:14:23.032+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists wbs 
       add constraint FKq87onj0qecoddq7jf3nkk12rr 
       foreign key (project_id) 
       references projects
2025-11-21T12:14:23.032+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists wbs 
       add constraint FK2ijryub9tusnocx1kpeln15u8 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:23.040+05:30  INFO 12412 --- [authorization-module] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-21T12:14:23.516+05:30  INFO 12412 --- [authorization-module] [           main] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:24.643+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:24.643+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:26.134+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.config.RedisCacheConfig            : Redis cache manager initialized with TTL: 30 minutes
2025-11-21T12:14:26.203+05:30  WARN 12412 --- [authorization-module] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-21T12:14:26.229+05:30 DEBUG 12412 --- [authorization-module] [           main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-21T12:14:26.680+05:30  INFO 12412 --- [authorization-module] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4de665b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cb23635, org.springframework.security.web.context.SecurityContextHolderFilter@78038d3e, org.springframework.security.web.header.HeaderWriterFilter@373d86e, org.springframework.web.filter.CorsFilter@61ba9c16, org.springframework.security.web.authentication.logout.LogoutFilter@8976a3c, com.elina.authorization.security.TenantFilter@4a16325, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3752408b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@673f17f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b88ef84, org.springframework.security.web.session.SessionManagementFilter@347a171e, org.springframework.security.web.access.ExceptionTranslationFilter@42f461c5, org.springframework.security.web.access.intercept.AuthorizationFilter@23be5761]
2025-11-21T12:14:27.387+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.authorization.security.TenantFilter  : Filter 'tenantFilter' configured for use
2025-11-21T12:14:27.387+05:30  INFO 12412 --- [authorization-module] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-11-21T12:14:27.387+05:30  INFO 12412 --- [authorization-module] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-11-21T12:14:27.394+05:30  INFO 12412 --- [authorization-module] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 7 ms
2025-11-21T12:14:27.417+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.c.AuthControllerIntegrationTest    : Started AuthControllerIntegrationTest in 10.152 seconds (process running for 11.748)
WARNING: A Java agent has been loaded dynamically (C:\Users\nihar\.m2\repository\net\bytebuddy\byte-buddy-agent\1.14.10\byte-buddy-agent-1.14.10.jar)
WARNING: If a serviceability tool is in use, please run with -XX:+EnableDynamicAgentLoading to hide this warning
WARNING: If a serviceability tool is not in use, please run with -Djdk.instrument.traceUsage for more information
WARNING: Dynamic loading of agents will be disallowed by default in a future release
Java HotSpot(TM) 64-Bit Server VM warning: Sharing is only supported for boot loader classes because bootstrap classpath has been appended
2025-11-21T12:14:28.263+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:28.412+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:28.469+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-11-21T12:14:28.479+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T12:14:28.483+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-11-21T12:14:28.598+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.controller.AuthController          : Login attempt for tenant: TEST, email: test@example.com
2025-11-21T12:14:28.704+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        t1_0.id,
        t1_0.client_code,
        t1_0.created_at,
        t1_0.is_active,
        t1_0.name,
        t1_0.tenant_code,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.tenant_code=?
2025-11-21T12:14:28.725+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        users u1_0 
    where
        lower(trim(BOTH from u1_0.email))=lower(trim(BOTH from ?)) 
        and u1_0.tenant_id=?
2025-11-21T12:14:28.860+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        first_name=?,
        is_active=?,
        last_login_at=?,
        last_name=?,
        password_hash=?,
        tenant_id=?,
        updated_at=? 
    where
        id=?
2025-11-21T12:14:28.860+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        ur1_0.id,
        ur1_0.created_at,
        ur1_0.role_id,
        ur1_0.user_id 
    from
        user_roles ur1_0 
    join
        users u1_0 
            on u1_0.id=ur1_0.user_id 
    where
        ur1_0.user_id=? 
        and u1_0.tenant_id=?
2025-11-21T12:14:28.875+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        up1_0.id,
        up1_0.created_at,
        up1_0.permission_id,
        up1_0.user_id 
    from
        user_permissions up1_0 
    join
        users u1_0 
            on u1_0.id=up1_0.user_id 
    where
        up1_0.user_id=? 
        and u1_0.tenant_id=?
2025-11-21T12:14:28.974+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.controller.AuthController          : Login successful for email: test@example.com
2025-11-21T12:14:29.047+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:29.121+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:29.121+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-11-21T12:14:29.121+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T12:14:29.121+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-11-21T12:14:29.124+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.controller.AuthController          : Login attempt for tenant: INVALID, email: test@example.com
2025-11-21T12:14:29.124+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        t1_0.id,
        t1_0.client_code,
        t1_0.created_at,
        t1_0.is_active,
        t1_0.name,
        t1_0.tenant_code,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.tenant_code=?
2025-11-21T12:14:29.130+05:30  WARN 12412 --- [authorization-module] [           main] c.e.authorization.service.AuthService    : Login failed: Tenant code 'INVALID' not found
2025-11-21T12:14:29.130+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.controller.AuthController          : Login failed for tenant: INVALID, email: test@example.com - Invalid tenant code: INVALID
2025-11-21T12:14:29.130+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.controller.GlobalExceptionHandler  : AuthenticationException: Invalid tenant code: INVALID
2025-11-21T12:14:29.143+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:29.226+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:29.230+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/auth/login
2025-11-21T12:14:29.230+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T12:14:29.230+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/auth/login
2025-11-21T12:14:29.230+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.controller.AuthController          : Login attempt for tenant: TEST, email: test@example.com
2025-11-21T12:14:29.230+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        t1_0.id,
        t1_0.client_code,
        t1_0.created_at,
        t1_0.is_active,
        t1_0.name,
        t1_0.tenant_code,
        t1_0.updated_at 
    from
        tenants t1_0 
    where
        t1_0.tenant_code=?
2025-11-21T12:14:29.234+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.first_name,
        u1_0.is_active,
        u1_0.last_login_at,
        u1_0.last_name,
        u1_0.password_hash,
        u1_0.tenant_id,
        u1_0.updated_at 
    from
        users u1_0 
    where
        lower(trim(BOTH from u1_0.email))=lower(trim(BOTH from ?)) 
        and u1_0.tenant_id=?
2025-11-21T12:14:29.315+05:30  WARN 12412 --- [authorization-module] [           main] c.e.authorization.service.AuthService    : Login failed: Password mismatch for user 'test@example.com' in tenant 'TEST'
2025-11-21T12:14:29.315+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.controller.AuthController          : Login failed for tenant: TEST, email: test@example.com - Invalid email or password
2025-11-21T12:14:29.315+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.controller.GlobalExceptionHandler  : AuthenticationException: Invalid email or password
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.83 s -- in com.elina.authorization.controller.AuthControllerIntegrationTest
[INFO] Running com.elina.authorization.rule.BusinessRuleEngineTest
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.701+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.701+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.780+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 validation passed
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.798+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.798+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.802+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 401 validation failed: Daily update quantity (110.00) cannot exceed planned quantity (100.00).
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.816+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.816+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.821+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.824+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.827+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.827+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.830+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 999 not found for tenant 1, skipping validation
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.832+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.832+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.838+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 301 validation failed: Cannot modify confirmed entry. Entry ID: 100
2025-11-21T12:14:29.845+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.846+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.846+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.846+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 201 validation failed: Task start date (2025-11-22) cannot be in the future.
2025-11-21T12:14:29.852+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.852+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.852+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.852+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.852+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.852+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.852+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.852+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.854+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.854+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.854+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.854+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.854+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 validation failed: Backdating is only allowed for 7 days. Attempted to backdate by 10 days.
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.865+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.865+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 is not applicable or not active, skipping validation
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.871+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.871+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:29.874+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 is not applicable or not active, skipping validation
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:29.879+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:29.882+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:29.882+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.553 s -- in com.elina.authorization.rule.BusinessRuleEngineTest
[INFO] Running com.elina.authorization.rule.validator.BackdateRuleValidatorTest
[INFO] Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.017 s -- in com.elina.authorization.rule.validator.BackdateRuleValidatorTest
[INFO] Running com.elina.authorization.service.AuthServiceTest
2025-11-21T12:14:30.730+05:30  WARN 12412 --- [authorization-module] [           main] c.e.authorization.service.AuthService    : Login failed: Tenant code 'INVALID' not found
2025-11-21T12:14:30.737+05:30  WARN 12412 --- [authorization-module] [           main] c.e.authorization.service.AuthService    : Login failed: Password mismatch for user 'admin@example.com' in tenant 'DEFAULT'
[INFO] Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.818 s -- in com.elina.authorization.service.AuthServiceTest
[INFO] Running com.elina.authorization.service.MasterCodeServiceTest
2025-11-21T12:14:31.012+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.service.MasterCodeService          : Created master code: WORK_CENTER / WC_NEW for tenant 1
2025-11-21T12:14:31.040+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.service.MasterCodeService          : Deleted master code: 1 for tenant 1
2025-11-21T12:14:31.047+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.service.MasterCodeService          : Updated master code: WORK_CENTER / WC_SITE for tenant 1
[INFO] Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.318 s -- in com.elina.authorization.service.MasterCodeServiceTest
[INFO] Running com.elina.authorization.util.PasswordHashTest
========================================
Testing Password Hash Verification
========================================
Password: Admin@123
Stored Hash: $2a$10$N9qo8uLOickgx2ZMRZoMyeIjZAgcfl7p92ldGxad68LJZdL17lhWy

Result: ? DOES NOT MATCH

The hash does NOT match 'Admin@123'
Generating new hash for 'Admin@123':
New hash: $2a$10$E0ykI.vdS5eCHbEFpk7Oruf7YrrsMCOYDwS3TeXJpai3QSYP6iAwq

Verifying new hash:
New hash matches: ? YES
========================================
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.342 s -- in com.elina.authorization.util.PasswordHashTest
[INFO] Running com.elina.projects.controller.PlanControllerIntegrationTest
2025-11-21T12:14:31.419+05:30  INFO 12412 --- [authorization-module] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.elina.projects.controller.PlanControllerIntegrationTest]: PlanControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-21T12:14:31.479+05:30  INFO 12412 --- [authorization-module] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.elina.AuthorizationModuleApplication for test class com.elina.projects.controller.PlanControllerIntegrationTest
2025-11-21T12:14:31.511+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.590+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.604+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.636+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.646+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.660+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/plans/create-with-mode
2025-11-21T12:14:31.726+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/plans/create-with-mode
       Parameters = {}
          Headers = [Content-Type:"application/json;charset=UTF-8", Authorization:"Bearer eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiI0IiwidGVuYW50X2lkIjo0LCJ1c2VyX2lkIjo0LCJyb2xlcyI6WyJST0xFX1NZU1RFTV9BRE1JTiJdLCJwZXJtaXNzaW9ucyI6WyJQQUdFX1BST0pFQ1RTX1ZJRVciLCJQQUdFX1BST0pFQ1RTX0VESVQiXSwiaWF0IjoxNzYzNzA3NDcxLCJleHAiOjE3NjM3OTM4NzF9.eNdYyLL5vHAIeXYzKNyIxbW5C3bKyA4Kn1xh4vyGdcqcNz4uN7Aa4pyOEqc4gjRS", Content-Length:"154"]
             Body = {"mode":"SINGLE_LINE_QUICK","versionDate":"2025-11-21","singleLine":{"plannedQty":100.0,"plannedDate":"2025-01-15","description":"Quick plan"},"taskId":1}
    Session Attrs = {}

Handler:
             Type = null

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 403
    Error message = Forbidden
          Headers = [Vary:"Origin", "Access-Control-Request-Method", "Access-Control-Request-Headers", X-Content-Type-Options:"nosniff", X-XSS-Protection:"0", Cache-Control:"no-cache, no-store, max-age=0, must-revalidate", Pragma:"no-cache", Expires:"0", X-Frame-Options:"DENY"]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2025-11-21T12:14:31.766+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.842+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.849+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.852+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.854+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:31.857+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/plans/create-with-mode
2025-11-21T12:14:31.866+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/plans/create-with-mode
2025-11-21T12:14:31.903+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:31.918+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:31.950+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:31.950+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 5, skipping validation
2025-11-21T12:14:31.960+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:31.960+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 5, skipping validation
2025-11-21T12:14:31.960+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:31.960+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 402 not found for tenant 5, skipping validation
2025-11-21T12:14:31.969+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        max(pv1_0.version_no) 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=?
2025-11-21T12:14:31.991+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or pv1_0.activate_flag=true
        ) 
    order by
        pv1_0.version_no desc
2025-11-21T12:14:31.999+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.011+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.015+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.023+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        audit_logs
        (action_type, changed_by, changed_on, new_data, old_data, record_id, table_name, tenant_id, audit_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.023+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.projects.service.AuditLogService     : Audit log written: INSERT 1 on PLAN_VERSION.1
2025-11-21T12:14:32.023+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 2 for tenant 5
2025-11-21T12:14:32.050+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.134+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.138+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.144+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.146+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.146+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.146+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.154+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.154+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.162+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/plans/compare/2/3
2025-11-21T12:14:32.162+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured GET /api/plans/compare/2/3
2025-11-21T12:14:32.185+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pl1_0.plan_line_id,
        pl1_0.activate_flag,
        pl1_0.created_by,
        pl1_0.created_on,
        pl1_0.description,
        pl1_0.line_number,
        pl1_0.plan_version_id,
        pl1_0.planned_qty,
        pl1_0.task_id,
        pl1_0.tenant_id,
        pl1_0.updated_by,
        pl1_0.updated_on,
        pl1_0.work_date 
    from
        plan_lines pl1_0 
    where
        pl1_0.tenant_id=? 
        and pl1_0.plan_version_id=? 
        and (
            ? is null 
            or ?=false 
            or pl1_0.activate_flag=true
        ) 
    order by
        pl1_0.work_date,
        pl1_0.line_number
2025-11-21T12:14:32.194+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pl1_0.plan_line_id,
        pl1_0.activate_flag,
        pl1_0.created_by,
        pl1_0.created_on,
        pl1_0.description,
        pl1_0.line_number,
        pl1_0.plan_version_id,
        pl1_0.planned_qty,
        pl1_0.task_id,
        pl1_0.tenant_id,
        pl1_0.updated_by,
        pl1_0.updated_on,
        pl1_0.work_date 
    from
        plan_lines pl1_0 
    where
        pl1_0.tenant_id=? 
        and pl1_0.plan_version_id=? 
        and (
            ? is null 
            or ?=false 
            or pl1_0.activate_flag=true
        ) 
    order by
        pl1_0.work_date,
        pl1_0.line_number
2025-11-21T12:14:32.242+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.328+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.328+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.328+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.328+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.334+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/plans/create-with-mode
2025-11-21T12:14:32.334+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/plans/create-with-mode
2025-11-21T12:14:32.334+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:32.334+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:32.334+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.controller.GlobalExceptionHandler  : BusinessRuleException [Rule 202]: Daily lines are required for DAILY_ENTRY mode
2025-11-21T12:14:32.353+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.433+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.433+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.433+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.433+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.440+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.442+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/plans/task/5
2025-11-21T12:14:32.442+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured GET /api/plans/task/5
2025-11-21T12:14:32.452+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or pv1_0.activate_flag=true
        ) 
    order by
        pv1_0.version_no desc
2025-11-21T12:14:32.476+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.550+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.559+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.559+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.564+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.564+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/plans/create-with-mode
2025-11-21T12:14:32.567+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/plans/create-with-mode
2025-11-21T12:14:32.567+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:32.567+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:32.572+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.controller.GlobalExceptionHandler  : BusinessRuleException [Rule 202]: Start date must be before end date
2025-11-21T12:14:32.585+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.661+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.661+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.661+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.671+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.671+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/plans/create-with-mode
2025-11-21T12:14:32.678+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/plans/create-with-mode
2025-11-21T12:14:32.678+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:32.678+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:32.684+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.684+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.684+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.684+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.690+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.694+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.696+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.696+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.700+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.700+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.700+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.704+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.710+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.712+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.714+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.716+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.718+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.720+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.722+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.726+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.730+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.732+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.734+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.738+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.745+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.745+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.749+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.751+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 10, skipping validation
2025-11-21T12:14:32.754+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.755+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 402 not found for tenant 10, skipping validation
2025-11-21T12:14:32.763+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        max(pv1_0.version_no) 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=?
2025-11-21T12:14:32.771+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or pv1_0.activate_flag=true
        ) 
    order by
        pv1_0.version_no desc
2025-11-21T12:14:32.776+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.780+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.781+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.783+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.785+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.788+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.793+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.796+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.796+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.796+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.796+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.796+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.796+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.804+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.808+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.813+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        audit_logs
        (action_type, changed_by, changed_on, new_data, old_data, record_id, table_name, tenant_id, audit_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.813+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.projects.service.AuditLogService     : Audit log written: INSERT 5 on PLAN_VERSION.5
2025-11-21T12:14:32.813+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 7 for tenant 10
2025-11-21T12:14:32.829+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.916+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.928+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.931+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.932+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.936+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/plans/create-with-mode
2025-11-21T12:14:32.939+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/plans/create-with-mode
2025-11-21T12:14:32.943+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:32.943+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:32.947+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.947+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.953+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.953+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.955+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.955+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.959+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.959+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.963+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.971+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.973+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 11, skipping validation
2025-11-21T12:14:32.973+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:32.973+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 402 not found for tenant 11, skipping validation
2025-11-21T12:14:32.980+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        max(pv1_0.version_no) 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=?
2025-11-21T12:14:32.980+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or pv1_0.activate_flag=true
        ) 
    order by
        pv1_0.version_no desc
2025-11-21T12:14:32.983+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.983+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.983+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.983+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.983+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.983+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.983+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.993+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.995+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.998+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.998+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.998+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        audit_logs
        (action_type, changed_by, changed_on, new_data, old_data, record_id, table_name, tenant_id, audit_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:32.998+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.projects.service.AuditLogService     : Audit log written: INSERT 6 on PLAN_VERSION.6
2025-11-21T12:14:32.998+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 8 for tenant 11
2025-11-21T12:14:33.009+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.093+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.093+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.098+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.098+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.102+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/plans/create-with-mode
2025-11-21T12:14:33.103+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/plans/create-with-mode
2025-11-21T12:14:33.106+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:33.107+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.createPlanVersionWithMode(com.elina.projects.dto.PlanCreationModeDTO); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:33.109+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.114+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.114+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.114+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.114+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.114+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.114+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.114+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.121+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.123+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.126+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.126+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.126+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.126+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.131+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.131+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.131+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.131+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.131+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.131+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 12, skipping validation
2025-11-21T12:14:33.139+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.139+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 402 not found for tenant 12, skipping validation
2025-11-21T12:14:33.145+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        max(pv1_0.version_no) 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=?
2025-11-21T12:14:33.147+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or pv1_0.activate_flag=true
        ) 
    order by
        pv1_0.version_no desc
2025-11-21T12:14:33.147+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.147+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.147+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.147+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.147+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.155+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.157+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.157+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.163+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.163+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.163+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.163+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        audit_logs
        (action_type, changed_by, changed_on, new_data, old_data, record_id, table_name, tenant_id, audit_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.163+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.projects.service.AuditLogService     : Audit log written: INSERT 7 on PLAN_VERSION.7
2025-11-21T12:14:33.163+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 9 for tenant 12
2025-11-21T12:14:33.179+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.253+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.253+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.261+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.264+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.266+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.267+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing PUT /api/plans/8/revert
2025-11-21T12:14:33.271+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured PUT /api/plans/8/revert
2025-11-21T12:14:33.271+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.revertToPlanVersion(java.lang.Long); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:33.278+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.revertToPlanVersion(java.lang.Long); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:33.278+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:33.278+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 402 not found for tenant 13, skipping validation
2025-11-21T12:14:33.283+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or pv1_0.activate_flag=true
        ) 
    order by
        pv1_0.version_no desc
2025-11-21T12:14:33.286+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        audit_logs
        (action_type, changed_by, changed_on, new_data, old_data, record_id, table_name, tenant_id, audit_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.projects.service.AuditLogService     : Audit log written: UPDATE 8 on PLAN_VERSION.8
2025-11-21T12:14:33.286+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Reverted to plan version: 1 for task 10 for tenant 13
2025-11-21T12:14:33.302+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.378+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.378+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.378+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.378+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.378+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.378+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing PUT /api/plans/9/activate
2025-11-21T12:14:33.387+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured PUT /api/plans/9/activate
2025-11-21T12:14:33.387+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.setActiveVersion(java.lang.Long); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:33.387+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.PlanController.setActiveVersion(java.lang.Long); target is of class [com.elina.projects.controller.PlanController]
2025-11-21T12:14:33.390+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or pv1_0.activate_flag=true
        ) 
    order by
        pv1_0.version_no desc
2025-11-21T12:14:33.395+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        audit_logs
        (action_type, changed_by, changed_on, new_data, old_data, record_id, table_name, tenant_id, audit_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:33.395+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.projects.service.AuditLogService     : Audit log written: UPDATE 9 on PLAN_VERSION.9
2025-11-21T12:14:33.395+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Set plan version 1 as active for task 11 for tenant 14
2025-11-21T12:14:33.431+05:30  INFO 12412 --- [authorization-module] [           main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-21T12:14:33.432+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-11-21T12:14:33.433+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists business_rules cascade 
2025-11-21T12:14:33.437+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists confirmations cascade 
2025-11-21T12:14:33.437+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists master_codes cascade 
2025-11-21T12:14:33.437+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists page_authorizations cascade 
2025-11-21T12:14:33.439+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists permissions cascade 
2025-11-21T12:14:33.439+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists plan_lines cascade 
2025-11-21T12:14:33.445+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists plan_versions cascade 
2025-11-21T12:14:33.445+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists projects cascade 
2025-11-21T12:14:33.445+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists role_permissions cascade 
2025-11-21T12:14:33.447+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-11-21T12:14:33.447+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists task_updates cascade 
2025-11-21T12:14:33.447+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists tasks cascade 
2025-11-21T12:14:33.448+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists tenants cascade 
2025-11-21T12:14:33.449+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_authorizations cascade 
2025-11-21T12:14:33.449+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_permissions cascade 
2025-11-21T12:14:33.449+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-11-21T12:14:33.449+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-11-21T12:14:33.449+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists wbs cascade 
2025-11-21T12:14:33.454+05:30  INFO 12412 --- [authorization-module] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-11-21T12:14:33.457+05:30  INFO 12412 --- [authorization-module] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
[ERROR] Tests run: 11, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 2.047 s <<< FAILURE! -- in com.elina.projects.controller.PlanControllerIntegrationTest
[ERROR] com.elina.projects.controller.PlanControllerIntegrationTest.testCreatePlanVersion_SingleLineQuickMode_Success -- Time elapsed: 0.247 s <<< FAILURE!
java.lang.AssertionError: Status expected:<201> but was:<403>
	at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)
	at org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)
	at org.springframework.test.web.servlet.result.StatusResultMatchers.lambda$matcher$9(StatusResultMatchers.java:637)
	at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:214)
	at com.elina.projects.controller.PlanControllerIntegrationTest.testCreatePlanVersion_SingleLineQuickMode_Success(PlanControllerIntegrationTest.java:342)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)

[INFO] Running com.elina.projects.controller.TaskUpdateControllerIntegrationTest
2025-11-21T12:14:33.468+05:30  INFO 12412 --- [authorization-module] [           main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.elina.projects.controller.TaskUpdateControllerIntegrationTest]: TaskUpdateControllerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-11-21T12:14:33.480+05:30  INFO 12412 --- [authorization-module] [           main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.elina.AuthorizationModuleApplication for test class com.elina.projects.controller.TaskUpdateControllerIntegrationTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.2.0)

2025-11-21T12:14:33.576+05:30  INFO 12412 --- [authorization-module] [           main] .p.c.TaskUpdateControllerIntegrationTest : Starting TaskUpdateControllerIntegrationTest using Java 21.0.8 with PID 12412 (started by nihar in C:\Users\nihar\OneDrive\Desktop\elina_test\elina\backend)
2025-11-21T12:14:33.578+05:30 DEBUG 12412 --- [authorization-module] [           main] .p.c.TaskUpdateControllerIntegrationTest : Running with Spring Boot v3.2.0, Spring v6.1.1
2025-11-21T12:14:33.578+05:30  INFO 12412 --- [authorization-module] [           main] .p.c.TaskUpdateControllerIntegrationTest : The following 1 profile is active: "test"
2025-11-21T12:14:34.164+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-21T12:14:34.164+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-21T12:14:34.217+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 19 JPA repository interfaces.
2025-11-21T12:14:34.223+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-11-21T12:14:34.225+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-11-21T12:14:34.225+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.BusinessRuleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.225+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.MasterCodeRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.225+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.PageAuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.225+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.PermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.225+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.RolePermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.RoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.TenantRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.UserAuthorizationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.UserPermissionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.authorization.repository.UserRoleRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.ConfirmationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.PlanLineRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.PlanVersionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.ProjectRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.TaskRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.TaskUpdateRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.elina.projects.repository.WbsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-11-21T12:14:34.233+05:30  INFO 12412 --- [authorization-module] [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-11-21T12:14:34.449+05:30  INFO 12412 --- [authorization-module] [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-21T12:14:34.449+05:30  INFO 12412 --- [authorization-module] [           main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-11-21T12:14:34.465+05:30  INFO 12412 --- [authorization-module] [           main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-21T12:14:34.465+05:30  INFO 12412 --- [authorization-module] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-11-21T12:14:34.471+05:30  INFO 12412 --- [authorization-module] [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection conn10: url=jdbc:h2:mem:testdb user=SA
2025-11-21T12:14:34.471+05:30  INFO 12412 --- [authorization-module] [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-11-21T12:14:34.471+05:30  WARN 12412 --- [authorization-module] [           main] org.hibernate.orm.deprecation            : HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-21T12:14:34.833+05:30  INFO 12412 --- [authorization-module] [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-21T12:14:34.840+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists audit_logs cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists business_rules cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists confirmations cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists master_codes cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists page_authorizations cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists permissions cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists plan_lines cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists plan_versions cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists projects cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists role_permissions cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists roles cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists task_updates cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists tasks cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists tenants cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_authorizations cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_permissions cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists user_roles cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists users cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    drop table if exists wbs cascade 
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table audit_logs (
        audit_id bigint generated by default as identity,
        changed_by bigint not null,
        changed_on timestamp(6) not null,
        record_id bigint not null,
        tenant_id bigint not null,
        action_type varchar(20) not null,
        table_name varchar(100) not null,
        new_data NVARCHAR(MAX),
        old_data NVARCHAR(MAX),
        primary key (audit_id)
    )
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table business_rules (
        activate_flag boolean not null,
        applicability varchar(1) not null,
        rule_number integer not null,
        created_by bigint,
        created_on timestamp(6) not null,
        rule_id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        control_point varchar(100) not null,
        rule_value varchar(500),
        description varchar(1000),
        primary key (rule_id),
        constraint idx_business_rules_tenant_rule_number unique (tenant_id, rule_number)
    )
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table confirmations (
        confirmation_date date not null,
        confirmation_id bigint generated by default as identity,
        confirmed_by bigint not null,
        confirmed_on timestamp(6) not null,
        created_by bigint,
        created_on timestamp(6) not null,
        entity_id bigint not null,
        tenant_id bigint not null,
        entity_type varchar(50) not null,
        remarks varchar(1000),
        primary key (confirmation_id)
    )
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table master_codes (
        activate_flag boolean not null,
        code_id bigint generated by default as identity,
        created_by bigint,
        created_on timestamp(6) not null,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        code_type varchar(100) not null,
        short_description varchar(500),
        code_value varchar(255) not null,
        long_description NVARCHAR(MAX),
        primary key (code_id)
    )
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table page_authorizations (
        is_allowed boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role_id bigint,
        updated_at timestamp(6),
        user_id bigint,
        page_name varchar(200),
        page_path varchar(255) not null,
        primary key (id)
    )
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table permissions (
        is_active boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_at timestamp(6),
        action varchar(50),
        code varchar(100) not null,
        resource_type varchar(100),
        name varchar(200) not null,
        description varchar(500),
        primary key (id),
        constraint idx_permission_tenant_code unique (tenant_id, code)
    )
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table plan_lines (
        activate_flag boolean not null,
        line_number integer not null,
        planned_qty numeric(18,2) not null,
        work_date date not null,
        created_by bigint,
        created_on timestamp(6) not null,
        plan_line_id bigint generated by default as identity,
        plan_version_id bigint not null,
        task_id bigint not null,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        description varchar(500),
        primary key (plan_line_id),
        constraint uk_plan_lines_version_date unique (plan_version_id, work_date)
    )
2025-11-21T12:14:34.841+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table plan_versions (
        activate_flag boolean not null,
        is_active boolean not null,
        version_date date not null,
        version_no integer not null,
        created_by bigint,
        created_on timestamp(6) not null,
        plan_version_id bigint generated by default as identity,
        task_id bigint not null,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        description varchar(500),
        primary key (plan_version_id),
        constraint uk_plan_versions_task_version unique (task_id, version_no)
    )
2025-11-21T12:14:34.849+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table projects (
        activate_flag boolean not null,
        end_date date,
        start_date date,
        created_by bigint,
        created_on timestamp(6) not null,
        project_id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        project_code varchar(50) not null,
        status varchar(50),
        project_name varchar(200) not null,
        description NVARCHAR(MAX),
        primary key (project_id),
        constraint idx_projects_tenant_code unique (tenant_id, project_code)
    )
2025-11-21T12:14:34.849+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table role_permissions (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        permission_id bigint not null,
        role_id bigint not null,
        primary key (id),
        constraint idx_role_permission_unique unique (role_id, permission_id)
    )
2025-11-21T12:14:34.851+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table roles (
        is_active boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_at timestamp(6),
        code varchar(50) not null,
        name varchar(100) not null,
        description varchar(500),
        primary key (id),
        constraint idx_role_tenant_code unique (tenant_id, code)
    )
2025-11-21T12:14:34.851+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table task_updates (
        activate_flag boolean not null,
        actual_qty numeric(18,2) not null,
        daily_update_qty numeric(18,2),
        planned_qty numeric(18,2),
        update_date date not null,
        created_by bigint,
        created_on timestamp(6) not null,
        task_id bigint not null,
        tenant_id bigint not null,
        update_id bigint generated by default as identity,
        updated_by bigint,
        updated_on timestamp(6),
        remarks varchar(1000),
        primary key (update_id),
        constraint idx_task_updates_date unique (tenant_id, task_id, update_date)
    )
2025-11-21T12:14:34.853+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table tasks (
        activate_flag boolean not null,
        actual_qty numeric(18,2),
        end_date date,
        is_confirmed boolean,
        is_locked boolean,
        lock_date date,
        planned_qty numeric(18,2),
        start_date date,
        confirmed_by bigint,
        confirmed_on timestamp(6),
        created_by bigint,
        created_on timestamp(6) not null,
        project_id bigint not null,
        task_id bigint generated by default as identity,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        wbs_id bigint not null,
        unit varchar(20),
        status varchar(50),
        task_code varchar(50) not null,
        task_name varchar(200) not null,
        description NVARCHAR(MAX),
        primary key (task_id),
        constraint idx_tasks_tenant_code unique (tenant_id, task_code)
    )
2025-11-21T12:14:34.853+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table tenants (
        is_active boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        client_code varchar(50),
        tenant_code varchar(50) not null unique,
        name varchar(200) not null,
        primary key (id)
    )
2025-11-21T12:14:34.853+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table user_authorizations (
        is_allowed boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6),
        user_id bigint not null,
        permission_type varchar(50),
        resource_type varchar(100) not null,
        conditions varchar(1000),
        resource_id varchar(255),
        primary key (id)
    )
2025-11-21T12:14:34.855+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table user_permissions (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        permission_id bigint not null,
        user_id bigint not null,
        primary key (id),
        constraint idx_user_permission_unique unique (user_id, permission_id)
    )
2025-11-21T12:14:34.855+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table user_roles (
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        role_id bigint not null,
        user_id bigint not null,
        primary key (id),
        constraint idx_user_role_unique unique (user_id, role_id)
    )
2025-11-21T12:14:34.857+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table users (
        is_active boolean not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        last_login_at timestamp(6),
        tenant_id bigint not null,
        updated_at timestamp(6),
        first_name varchar(100),
        last_name varchar(100),
        email varchar(255) not null,
        password_hash varchar(255) not null,
        primary key (id),
        constraint idx_user_tenant_email unique (tenant_id, email)
    )
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create table wbs (
        activate_flag boolean not null,
        actual_qty numeric(18,2),
        end_date date,
        is_confirmed boolean,
        is_locked boolean,
        level integer not null,
        lock_date date,
        planned_qty numeric(18,2),
        start_date date,
        confirmed_by bigint,
        confirmed_on timestamp(6),
        created_by bigint,
        created_on timestamp(6) not null,
        parent_wbs_id bigint,
        project_id bigint not null,
        tenant_id bigint not null,
        updated_by bigint,
        updated_on timestamp(6),
        wbs_id bigint generated by default as identity,
        cost_center varchar(50),
        status varchar(50),
        wbs_code varchar(50) not null,
        work_center varchar(50),
        wbs_name varchar(200) not null,
        description NVARCHAR(MAX),
        primary key (wbs_id),
        constraint idx_wbs_tenant_code unique (tenant_id, wbs_code)
    )
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_audit_logs_tenant_id 
       on audit_logs (tenant_id)
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_audit_logs_table_record 
       on audit_logs (tenant_id, table_name, record_id)
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_audit_logs_changed_on 
       on audit_logs (tenant_id, changed_on)
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_audit_logs_changed_by 
       on audit_logs (tenant_id, changed_by)
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_business_rules_tenant_control_point 
       on business_rules (tenant_id, control_point)
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_business_rules_tenant_active 
       on business_rules (tenant_id, activate_flag)
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_confirmations_tenant_id 
       on confirmations (tenant_id)
2025-11-21T12:14:34.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_confirmations_entity 
       on confirmations (tenant_id, entity_type, entity_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_confirmations_date 
       on confirmations (tenant_id, confirmation_date)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_master_codes_tenant_type 
       on master_codes (tenant_id, code_type)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_master_codes_tenant_type_active 
       on master_codes (tenant_id, code_type, activate_flag)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_master_codes_code_type 
       on master_codes (code_type)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_page_auth_role 
       on page_authorizations (role_id, page_path)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_page_auth_user 
       on page_authorizations (user_id, page_path)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_lines_tenant_id 
       on plan_lines (tenant_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_lines_version_work_date 
       on plan_lines (plan_version_id, work_date)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_lines_task_id 
       on plan_lines (tenant_id, task_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_versions_tenant_id 
       on plan_versions (tenant_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_versions_tenant_task_version 
       on plan_versions (tenant_id, task_id, version_no)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_plan_versions_tenant_active 
       on plan_versions (tenant_id, activate_flag)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_projects_tenant_id 
       on projects (tenant_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_projects_tenant_active 
       on projects (tenant_id, activate_flag)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_task_updates_tenant_id 
       on task_updates (tenant_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_task_updates_task_id 
       on task_updates (tenant_id, task_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_task_updates_tenant_active 
       on task_updates (tenant_id, activate_flag)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_tasks_tenant_id 
       on tasks (tenant_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_tasks_wbs_id 
       on tasks (tenant_id, wbs_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_tasks_tenant_active 
       on tasks (tenant_id, activate_flag)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_user_auth_resource 
       on user_authorizations (user_id, resource_type, resource_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_wbs_tenant_id 
       on wbs (tenant_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_wbs_project_id 
       on wbs (tenant_id, project_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_wbs_parent_id 
       on wbs (tenant_id, parent_wbs_id)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    create index idx_wbs_tenant_active 
       on wbs (tenant_id, activate_flag)
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists audit_logs 
       add constraint FKqquet9030xtkk7jyvqwuy1byu 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists business_rules 
       add constraint FKp2eprpx1ddnpbo7xnmcx81qh0 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists confirmations 
       add constraint FKc5is8es0dyyrrmt2gjn2hdaho 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists master_codes 
       add constraint FK500mds9dklqnj0muk6fxllmkb 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists page_authorizations 
       add constraint FKabpji2gk3meflxca4byx2gxe4 
       foreign key (role_id) 
       references roles
2025-11-21T12:14:34.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists page_authorizations 
       add constraint FKky0rncvow6co2bjvrxuyrqdsm 
       foreign key (user_id) 
       references users
2025-11-21T12:14:34.875+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists permissions 
       add constraint FK6clx7crol7q58xoytg2mkngm4 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.875+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_lines 
       add constraint FK1srfhphdyfbykgsnvhrptqfud 
       foreign key (plan_version_id) 
       references plan_versions
2025-11-21T12:14:34.875+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_lines 
       add constraint FKah9msmycx8xwew33n5nd90t1e 
       foreign key (task_id) 
       references tasks
2025-11-21T12:14:34.875+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_lines 
       add constraint FK3cifsdmpg8x4l622qghfoor0h 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.875+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_versions 
       add constraint FK7ve66bapmky6dp25rdyl58uhl 
       foreign key (task_id) 
       references tasks
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists plan_versions 
       add constraint FKg3kpxro7jrm9oq55uxm98rbo1 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists projects 
       add constraint FK7qub36q2kp85c3y1o6cobdgu1 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists role_permissions 
       add constraint FKegdk29eiy7mdtefy5c7eirr6e 
       foreign key (permission_id) 
       references permissions
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists role_permissions 
       add constraint FKn5fotdgk8d1xvo8nav9uv3muc 
       foreign key (role_id) 
       references roles
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists roles 
       add constraint FKmvypqr2nolkxxru0qnbw8rh5m 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists task_updates 
       add constraint FKntllp5kf24w3bm2ldtfsh64n9 
       foreign key (task_id) 
       references tasks
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists task_updates 
       add constraint FKmu19cqmop4akknpisj6oxeaxw 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists tasks 
       add constraint FKsfhn82y57i3k9uxww1s007acc 
       foreign key (project_id) 
       references projects
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists tasks 
       add constraint FKbt9vk2o2kb5cv83mv6iblq2s9 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists tasks 
       add constraint FKp88t4ky8or4mo5nob5281ffdt 
       foreign key (wbs_id) 
       references wbs
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_authorizations 
       add constraint FKgek2c3qxjc3g29pk0gaqkythi 
       foreign key (user_id) 
       references users
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_permissions 
       add constraint FKq4qlrabt4s0etm9tfkoqfuib1 
       foreign key (permission_id) 
       references permissions
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_permissions 
       add constraint FKkowxl8b2bngrxd1gafh13005u 
       foreign key (user_id) 
       references users
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKh8ciramu9cc9q3qcqiv4ue8a6 
       foreign key (role_id) 
       references roles
2025-11-21T12:14:34.881+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists user_roles 
       add constraint FKhfh9dx7w3ubf1co1vdev94g3f 
       foreign key (user_id) 
       references users
2025-11-21T12:14:34.889+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists users 
       add constraint FK21hn1a5ja1tve7ae02fnn4cld 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.895+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists wbs 
       add constraint FKoll0drr18kkmke53urr9tmw24 
       foreign key (parent_wbs_id) 
       references wbs
2025-11-21T12:14:34.895+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists wbs 
       add constraint FKq87onj0qecoddq7jf3nkk12rr 
       foreign key (project_id) 
       references projects
2025-11-21T12:14:34.897+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    alter table if exists wbs 
       add constraint FK2ijryub9tusnocx1kpeln15u8 
       foreign key (tenant_id) 
       references tenants
2025-11-21T12:14:34.897+05:30  INFO 12412 --- [authorization-module] [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 203: AllocationDateRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 501: AllocationDateRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 204: AttendanceEntryRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 601: AttendanceEntryRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 101: BackdateRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 102: BackdateRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 301: ConfirmationLockRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 205: MaterialUsageRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 401: PlannedVsActualRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 201: TaskDateRangeRuleValidator
2025-11-21T12:14:35.286+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Registered validator for rule 202: WbsDateRangeRuleValidator
2025-11-21T12:14:35.286+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : BusinessRuleEngine initialized with 8 validators for 11 rules
2025-11-21T12:14:35.801+05:30  INFO 12412 --- [authorization-module] [           main] c.e.a.config.RedisCacheConfig            : Redis cache manager initialized with TTL: 30 minutes
2025-11-21T12:14:35.824+05:30  WARN 12412 --- [authorization-module] [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-21T12:14:35.847+05:30 DEBUG 12412 --- [authorization-module] [           main] swordEncoderAuthenticationManagerBuilder : No authenticationProviders and no parentAuthenticationManager defined. Returning null.
2025-11-21T12:14:35.987+05:30  INFO 12412 --- [authorization-module] [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3544f0b2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31151547, org.springframework.security.web.context.SecurityContextHolderFilter@5e5d5c79, org.springframework.security.web.header.HeaderWriterFilter@6d337a74, org.springframework.web.filter.CorsFilter@10b6782, org.springframework.security.web.authentication.logout.LogoutFilter@1322eeeb, com.elina.authorization.security.TenantFilter@5c0f4e94, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c4ec12b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a58fe0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e9dc66, org.springframework.security.web.session.SessionManagementFilter@3349c89c, org.springframework.security.web.access.ExceptionTranslationFilter@65e97fe, org.springframework.security.web.access.intercept.AuthorizationFilter@548a0d88]
2025-11-21T12:14:36.157+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.authorization.security.TenantFilter  : Filter 'tenantFilter' configured for use
2025-11-21T12:14:36.157+05:30  INFO 12412 --- [authorization-module] [           main] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2025-11-21T12:14:36.157+05:30  INFO 12412 --- [authorization-module] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-11-21T12:14:36.157+05:30  INFO 12412 --- [authorization-module] [           main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-11-21T12:14:36.164+05:30  INFO 12412 --- [authorization-module] [           main] .p.c.TaskUpdateControllerIntegrationTest : Started TaskUpdateControllerIntegrationTest in 2.678 seconds (process running for 20.5)
2025-11-21T12:14:36.193+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.276+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.276+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.289+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.292+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.301+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        business_rules
        (activate_flag, applicability, control_point, created_by, created_on, description, rule_number, rule_value, tenant_id, updated_by, updated_on, rule_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.314+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/task-updates/task/1
2025-11-21T12:14:36.319+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/task-updates/task/1
2025-11-21T12:14:36.325+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.TaskUpdateController.saveOrUpdateDayWise(java.lang.Long,com.elina.projects.dto.TaskUpdateBulkDTO); target is of class [com.elina.projects.controller.TaskUpdateController]
2025-11-21T12:14:36.325+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.TaskUpdateController.saveOrUpdateDayWise(java.lang.Long,com.elina.projects.dto.TaskUpdateBulkDTO); target is of class [com.elina.projects.controller.TaskUpdateController]
2025-11-21T12:14:36.331+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        c1_0.confirmation_id,
        c1_0.confirmation_date,
        c1_0.confirmed_by,
        c1_0.confirmed_on,
        c1_0.created_by,
        c1_0.created_on,
        c1_0.entity_id,
        c1_0.entity_type,
        c1_0.remarks,
        c1_0.tenant_id 
    from
        confirmations c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.entity_type=? 
        and c1_0.entity_id=?
2025-11-21T12:14:36.344+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        tu1_0.update_id,
        tu1_0.activate_flag,
        tu1_0.actual_qty,
        tu1_0.created_by,
        tu1_0.created_on,
        tu1_0.daily_update_qty,
        tu1_0.planned_qty,
        tu1_0.remarks,
        tu1_0.task_id,
        tu1_0.tenant_id,
        tu1_0.update_date,
        tu1_0.updated_by,
        tu1_0.updated_on 
    from
        task_updates tu1_0 
    where
        tu1_0.tenant_id=? 
        and tu1_0.task_id=? 
        and tu1_0.update_date=?
2025-11-21T12:14:36.349+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:36.349+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 1, skipping validation
2025-11-21T12:14:36.349+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:36.349+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 201 not found for tenant 1, skipping validation
2025-11-21T12:14:36.349+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:36.349+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 401 validation failed: Daily update quantity (30.00) cannot exceed planned quantity (10.00).
2025-11-21T12:14:36.349+05:30  WARN 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Business rule violation for date 2025-11-05: Rule 401 - Daily update quantity (30.00) cannot exceed planned quantity (10.00).
2025-11-21T12:14:36.349+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.controller.GlobalExceptionHandler  : BusinessRuleException [Rule 401]: Daily update quantity (30.00) cannot exceed planned quantity (10.00).
2025-11-21T12:14:36.366+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.447+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.447+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.447+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.447+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.447+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/task-updates/task/2
2025-11-21T12:14:36.455+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured GET /api/task-updates/task/2
2025-11-21T12:14:36.463+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and pv1_0.is_active=true 
        and pv1_0.activate_flag=true
2025-11-21T12:14:36.463+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        tu1_0.update_id,
        tu1_0.activate_flag,
        tu1_0.actual_qty,
        tu1_0.created_by,
        tu1_0.created_on,
        tu1_0.daily_update_qty,
        tu1_0.planned_qty,
        tu1_0.remarks,
        tu1_0.task_id,
        tu1_0.tenant_id,
        tu1_0.update_date,
        tu1_0.updated_by,
        tu1_0.updated_on 
    from
        task_updates tu1_0 
    where
        tu1_0.tenant_id=? 
        and tu1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or tu1_0.activate_flag=true
        ) 
    order by
        tu1_0.update_date
2025-11-21T12:14:36.463+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        c1_0.confirmation_id,
        c1_0.confirmation_date,
        c1_0.confirmed_by,
        c1_0.confirmed_on,
        c1_0.created_by,
        c1_0.created_on,
        c1_0.entity_id,
        c1_0.entity_type,
        c1_0.remarks,
        c1_0.tenant_id 
    from
        confirmations c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.entity_type=? 
        and c1_0.entity_id=?
2025-11-21T12:14:36.485+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.563+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.569+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.569+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.569+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.578+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        task_updates
        (activate_flag, actual_qty, created_by, created_on, daily_update_qty, planned_qty, remarks, task_id, tenant_id, update_date, updated_by, updated_on, update_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.578+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing DELETE /api/task-updates/1
2025-11-21T12:14:36.578+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured DELETE /api/task-updates/1
2025-11-21T12:14:36.578+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.TaskUpdateController.deleteTaskUpdate(java.lang.Long); target is of class [com.elina.projects.controller.TaskUpdateController]
2025-11-21T12:14:36.578+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.TaskUpdateController.deleteTaskUpdate(java.lang.Long); target is of class [com.elina.projects.controller.TaskUpdateController]
2025-11-21T12:14:36.586+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        c1_0.confirmation_id,
        c1_0.confirmation_date,
        c1_0.confirmed_by,
        c1_0.confirmed_on,
        c1_0.created_by,
        c1_0.created_on,
        c1_0.entity_id,
        c1_0.entity_type,
        c1_0.remarks,
        c1_0.tenant_id 
    from
        confirmations c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.entity_type=? 
        and c1_0.entity_id=?
2025-11-21T12:14:36.586+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:36.586+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 3, skipping validation
2025-11-21T12:14:36.596+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        audit_logs
        (action_type, changed_by, changed_on, new_data, old_data, record_id, table_name, tenant_id, audit_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.596+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.projects.service.AuditLogService     : Audit log written: DELETE 1 on task_updates.1
2025-11-21T12:14:36.613+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    delete 
    from
        task_updates 
    where
        update_id=?
2025-11-21T12:14:36.613+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        coalesce(sum(tu1_0.actual_qty), 0) 
    from
        task_updates tu1_0 
    where
        tu1_0.tenant_id=? 
        and tu1_0.task_id=? 
        and tu1_0.activate_flag=true
2025-11-21T12:14:36.621+05:30  INFO 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Deleted task update 1 for task 3 on date 2025-11-05 for tenant 3
2025-11-21T12:14:36.626+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        tu1_0.update_id,
        tu1_0.activate_flag,
        tu1_0.actual_qty,
        tu1_0.created_by,
        tu1_0.created_on,
        tu1_0.daily_update_qty,
        tu1_0.planned_qty,
        tu1_0.remarks,
        tu1_0.task_id,
        tu1_0.tenant_id,
        tu1_0.update_date,
        tu1_0.updated_by,
        tu1_0.updated_on 
    from
        task_updates tu1_0 
    where
        tu1_0.update_id=?
2025-11-21T12:14:36.631+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.725+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.728+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.728+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.728+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.728+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/task-updates/task/4
2025-11-21T12:14:36.736+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/task-updates/task/4
2025-11-21T12:14:36.736+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.TaskUpdateController.saveOrUpdateDayWise(java.lang.Long,com.elina.projects.dto.TaskUpdateBulkDTO); target is of class [com.elina.projects.controller.TaskUpdateController]
2025-11-21T12:14:36.736+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.TaskUpdateController.saveOrUpdateDayWise(java.lang.Long,com.elina.projects.dto.TaskUpdateBulkDTO); target is of class [com.elina.projects.controller.TaskUpdateController]
2025-11-21T12:14:36.740+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        c1_0.confirmation_id,
        c1_0.confirmation_date,
        c1_0.confirmed_by,
        c1_0.confirmed_on,
        c1_0.created_by,
        c1_0.created_on,
        c1_0.entity_id,
        c1_0.entity_type,
        c1_0.remarks,
        c1_0.tenant_id 
    from
        confirmations c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.entity_type=? 
        and c1_0.entity_id=?
2025-11-21T12:14:36.740+05:30  WARN 12412 --- [authorization-module] [           main] c.e.a.controller.GlobalExceptionHandler  : BusinessRuleException [Rule null]: Update date 2025-12-01 is after task end date 2025-11-14
2025-11-21T12:14:36.745+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.859+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.865+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.869+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.876+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_versions
        (activate_flag, created_by, created_on, description, is_active, task_id, tenant_id, updated_by, updated_on, version_date, version_no, plan_version_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.882+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.882+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        plan_lines
        (activate_flag, created_by, created_on, description, line_number, plan_version_id, planned_qty, task_id, tenant_id, updated_by, updated_on, work_date, plan_line_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.882+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        task_updates
        (activate_flag, actual_qty, created_by, created_on, daily_update_qty, planned_qty, remarks, task_id, tenant_id, update_date, updated_by, updated_on, update_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:36.882+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/task-updates/task/5
2025-11-21T12:14:36.882+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured GET /api/task-updates/task/5
2025-11-21T12:14:36.896+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and pv1_0.is_active=true 
        and pv1_0.activate_flag=true
2025-11-21T12:14:36.899+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pl1_0.plan_line_id,
        pl1_0.activate_flag,
        pl1_0.created_by,
        pl1_0.created_on,
        pl1_0.description,
        pl1_0.line_number,
        pl1_0.plan_version_id,
        pl1_0.planned_qty,
        pl1_0.task_id,
        pl1_0.tenant_id,
        pl1_0.updated_by,
        pl1_0.updated_on,
        pl1_0.work_date 
    from
        plan_lines pl1_0 
    where
        pl1_0.tenant_id=? 
        and pl1_0.plan_version_id=? 
        and (
            ? is null 
            or ?=false 
            or pl1_0.activate_flag=true
        ) 
    order by
        pl1_0.work_date,
        pl1_0.line_number
2025-11-21T12:14:36.899+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        tu1_0.update_id,
        tu1_0.activate_flag,
        tu1_0.actual_qty,
        tu1_0.created_by,
        tu1_0.created_on,
        tu1_0.daily_update_qty,
        tu1_0.planned_qty,
        tu1_0.remarks,
        tu1_0.task_id,
        tu1_0.tenant_id,
        tu1_0.update_date,
        tu1_0.updated_by,
        tu1_0.updated_on 
    from
        task_updates tu1_0 
    where
        tu1_0.tenant_id=? 
        and tu1_0.task_id=? 
        and (
            ? is null 
            or ?=false 
            or tu1_0.activate_flag=true
        ) 
    order by
        tu1_0.update_date
2025-11-21T12:14:36.910+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        c1_0.confirmation_id,
        c1_0.confirmation_date,
        c1_0.confirmed_by,
        c1_0.confirmed_on,
        c1_0.created_by,
        c1_0.created_on,
        c1_0.entity_id,
        c1_0.entity_type,
        c1_0.remarks,
        c1_0.tenant_id 
    from
        confirmations c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.entity_type=? 
        and c1_0.entity_id=?
2025-11-21T12:14:36.948+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.045+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.049+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.050+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.051+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.052+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        task_updates
        (activate_flag, actual_qty, created_by, created_on, daily_update_qty, planned_qty, remarks, task_id, tenant_id, update_date, updated_by, updated_on, update_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.052+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        task_updates
        (activate_flag, actual_qty, created_by, created_on, daily_update_qty, planned_qty, remarks, task_id, tenant_id, update_date, updated_by, updated_on, update_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.052+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/task-updates/task/6/summary
2025-11-21T12:14:37.062+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured GET /api/task-updates/task/6/summary
2025-11-21T12:14:37.069+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        pv1_0.plan_version_id,
        pv1_0.activate_flag,
        pv1_0.created_by,
        pv1_0.created_on,
        pv1_0.description,
        pv1_0.is_active,
        pv1_0.task_id,
        pv1_0.tenant_id,
        pv1_0.updated_by,
        pv1_0.updated_on,
        pv1_0.version_date,
        pv1_0.version_no 
    from
        plan_versions pv1_0 
    where
        pv1_0.tenant_id=? 
        and pv1_0.task_id=? 
        and pv1_0.is_active=true 
        and pv1_0.activate_flag=true
2025-11-21T12:14:37.074+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        tu1_0.update_id,
        tu1_0.activate_flag,
        tu1_0.actual_qty,
        tu1_0.created_by,
        tu1_0.created_on,
        tu1_0.daily_update_qty,
        tu1_0.planned_qty,
        tu1_0.remarks,
        tu1_0.task_id,
        tu1_0.tenant_id,
        tu1_0.update_date,
        tu1_0.updated_by,
        tu1_0.updated_on 
    from
        task_updates tu1_0 
    where
        tu1_0.tenant_id=? 
        and tu1_0.task_id=? 
        and tu1_0.update_date>=? 
        and tu1_0.update_date<=? 
        and (
            ? is null 
            or ?=false 
            or tu1_0.activate_flag=true
        ) 
    order by
        tu1_0.update_date desc
2025-11-21T12:14:37.096+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.182+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.182+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.187+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.187+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.190+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing POST /api/task-updates/task/7
2025-11-21T12:14:37.198+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Secured POST /api/task-updates/task/7
2025-11-21T12:14:37.198+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.TaskUpdateController.saveOrUpdateDayWise(java.lang.Long,com.elina.projects.dto.TaskUpdateBulkDTO); target is of class [com.elina.projects.controller.TaskUpdateController]
2025-11-21T12:14:37.198+05:30 DEBUG 12412 --- [authorization-module] [           main] horizationManagerBeforeMethodInterceptor : Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.elina.projects.controller.TaskUpdateController.saveOrUpdateDayWise(java.lang.Long,com.elina.projects.dto.TaskUpdateBulkDTO); target is of class [com.elina.projects.controller.TaskUpdateController]
2025-11-21T12:14:37.198+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        c1_0.confirmation_id,
        c1_0.confirmation_date,
        c1_0.confirmed_by,
        c1_0.confirmed_on,
        c1_0.created_by,
        c1_0.created_on,
        c1_0.entity_id,
        c1_0.entity_type,
        c1_0.remarks,
        c1_0.tenant_id 
    from
        confirmations c1_0 
    where
        c1_0.tenant_id=? 
        and c1_0.entity_type=? 
        and c1_0.entity_id=?
2025-11-21T12:14:37.205+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        tu1_0.update_id,
        tu1_0.activate_flag,
        tu1_0.actual_qty,
        tu1_0.created_by,
        tu1_0.created_on,
        tu1_0.daily_update_qty,
        tu1_0.planned_qty,
        tu1_0.remarks,
        tu1_0.task_id,
        tu1_0.tenant_id,
        tu1_0.update_date,
        tu1_0.updated_by,
        tu1_0.updated_on 
    from
        task_updates tu1_0 
    where
        tu1_0.tenant_id=? 
        and tu1_0.task_id=? 
        and tu1_0.update_date=?
2025-11-21T12:14:37.210+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:37.212+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 101 not found for tenant 7, skipping validation
2025-11-21T12:14:37.214+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:37.214+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 201 not found for tenant 7, skipping validation
2025-11-21T12:14:37.214+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        br1_0.rule_id,
        br1_0.activate_flag,
        br1_0.applicability,
        br1_0.control_point,
        br1_0.created_by,
        br1_0.created_on,
        br1_0.description,
        br1_0.rule_number,
        br1_0.rule_value,
        br1_0.tenant_id,
        br1_0.updated_by,
        br1_0.updated_on 
    from
        business_rules br1_0 
    where
        br1_0.tenant_id=? 
        and br1_0.rule_number=?
2025-11-21T12:14:37.214+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.a.rule.BusinessRuleEngine            : Rule 401 not found for tenant 7, skipping validation
2025-11-21T12:14:37.214+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        task_updates
        (activate_flag, actual_qty, created_by, created_on, daily_update_qty, planned_qty, remarks, task_id, tenant_id, update_date, updated_by, updated_on, update_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.221+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        audit_logs
        (action_type, changed_by, changed_on, new_data, old_data, record_id, table_name, tenant_id, audit_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.221+05:30 DEBUG 12412 --- [authorization-module] [           main] c.e.projects.service.AuditLogService     : Audit log written: INSERT 5 on task_updates.5
2025-11-21T12:14:37.227+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    select
        coalesce(sum(tu1_0.actual_qty), 0) 
    from
        task_updates tu1_0 
    where
        tu1_0.tenant_id=? 
        and tu1_0.task_id=? 
        and tu1_0.activate_flag=true
2025-11-21T12:14:37.229+05:30  INFO 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Bulk saved 1 day-wise updates for task 7 for tenant 7
2025-11-21T12:14:37.246+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tenants
        (client_code, created_at, is_active, name, tenant_code, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.336+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        users
        (created_at, email, first_name, is_active, last_login_at, last_name, password_hash, tenant_id, updated_at, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.336+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        projects
        (activate_flag, created_by, created_on, description, end_date, project_code, project_name, start_date, status, tenant_id, updated_by, updated_on, project_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.336+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        wbs
        (activate_flag, actual_qty, confirmed_by, confirmed_on, cost_center, created_by, created_on, description, end_date, is_confirmed, is_locked, level, lock_date, parent_wbs_id, planned_qty, project_id, start_date, status, tenant_id, updated_by, updated_on, wbs_code, wbs_name, work_center, wbs_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.345+05:30 DEBUG 12412 --- [authorization-module] [           main] org.hibernate.SQL                        : 
    insert 
    into
        tasks
        (activate_flag, actual_qty, confirmed_by, confirmed_on, created_by, created_on, description, end_date, is_confirmed, is_locked, lock_date, planned_qty, project_id, start_date, status, task_code, task_name, tenant_id, unit, updated_by, updated_on, wbs_id, task_id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, default)
2025-11-21T12:14:37.345+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.security.web.FilterChainProxy        : Securing GET /api/task-updates/task/8
2025-11-21T12:14:37.345+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-11-21T12:14:37.345+05:30 DEBUG 12412 --- [authorization-module] [           main] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
[INFO] Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.881 s -- in com.elina.projects.controller.TaskUpdateControllerIntegrationTest
[INFO] Running com.elina.projects.service.PlanServiceAdditionalTest
2025-11-21T12:14:37.846+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 1 for tenant 1
2025-11-21T12:14:37.864+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Deleted plan version 1 for task 1 for tenant 1
2025-11-21T12:14:37.870+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Set plan version 1 as active for task 1 for tenant 1
2025-11-21T12:14:37.884+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Updated plan lines for version null for task 1 for tenant 1
[INFO] Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.532 s -- in com.elina.projects.service.PlanServiceAdditionalTest
[INFO] Running com.elina.projects.service.PlanServiceTest
2025-11-21T12:14:37.913+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 1 for tenant 1
2025-11-21T12:14:37.929+05:30  WARN 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Business rule violation: Rule 101 - Backdate not allowed
2025-11-21T12:14:37.972+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 1 for tenant 1
2025-11-21T12:14:37.984+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 1 for tenant 1
2025-11-21T12:14:37.997+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 1 for tenant 1
2025-11-21T12:14:38.013+05:30  INFO 12412 --- [authorization-module] [           main] com.elina.projects.service.PlanService   : Created plan version: 1 for task 1 for tenant 1
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.132 s -- in com.elina.projects.service.PlanServiceTest
[INFO] Running com.elina.projects.service.TaskUpdateServiceTest
2025-11-21T12:14:38.160+05:30  INFO 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Bulk saved 1 day-wise updates for task 1 for tenant 1
2025-11-21T12:14:38.171+05:30  INFO 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Bulk saved 1 day-wise updates for task 1 for tenant 1
2025-11-21T12:14:38.187+05:30  INFO 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Bulk saved 2 day-wise updates for task 1 for tenant 1
2025-11-21T12:14:38.199+05:30  WARN 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Update blocked for locked date 2025-11-05: Rule 102 - Cannot update locked date
2025-11-21T12:14:38.215+05:30  WARN 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Business rule violation for date 2025-11-05: Rule 401 - Actual quantity cannot exceed planned quantity
2025-11-21T12:14:38.235+05:30  INFO 12412 --- [authorization-module] [           main] c.e.projects.service.TaskUpdateService   : Deleted task update 1 for task 1 on date 2025-11-05 for tenant 1
[INFO] Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.224 s -- in com.elina.projects.service.TaskUpdateServiceTest
[INFO] 
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   PlanControllerIntegrationTest.testCreatePlanVersion_SingleLineQuickMode_Success:342 Status expected:<201> but was:<403>
[INFO] 
[ERROR] Tests run: 89, Failures: 1, Errors: 0, Skipped: 0
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  25.707 s
[INFO] Finished at: 2025-11-21T12:14:38+05:30
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project authorization-module: There are test failures.
[ERROR] 
[ERROR] Please refer to C:\Users\nihar\OneDrive\Desktop\elina_test\elina\backend\target\surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
